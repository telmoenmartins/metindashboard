import{c as D}from"./index-CPyRA9G0.js";import{Y as N,n as m,a as o,c,b as e,M as r,e as B,H as C,V as I,N as p,L as v,_ as P,P as E,S as A}from"./index-CoOuRCJZ.js";import{i as T,n as V}from"./notification.helper-KZU0iVAK.js";const S={class:"flex flex-col md:flex-row md:items-center md:justify-between mb-6"},$={class:"flex items-center"},j={class:"mr-4"},z=["src"],F={class:"text-surface-900 dark:text-surface-0 font-medium mr-2 mb-1 md:mb-0"},L={class:"text-muted-color"},M={key:0,class:"font-medium text-blue-700"},O={key:0,class:"mt-2 md:mt-0 flex items-center"},R={class:"bg-surface-300 dark:bg-surface-500 rounded-border overflow-hidden w-40 lg:w-24",style:{height:"8px"}},q={key:1},J={__name:"ItemListItem",props:{item:{type:Object,required:!0}},setup(a){N();const t=a,_=m(()=>s(t.item,!1)==0),x=m(()=>{const i=new Date;return new Date(t.item.expiresAt)-i}),b=m(()=>({"bg-green-500":s(t.item,!1)>40,"bg-orange-500":s(t.item,!1)<40,"bg-red-500":s(t.item,!1)<15})),w=m(()=>({"text-green-500":s(t.item,!1)>40,"text-orange-500":s(t.item,!1)<40,"text-red-500":s(t.item,!1)<15}));function s(i,l=!0){const d=i.durationDays,u=new Date;let f=new Date(i.expiresAt)-u,k=d*24*60*60*1e3,n=f/k*100;return n=Math.max(0,n),l?`${n.toFixed(2)}%`:n.toFixed(2)}async function g(){await D.removeItem(t.item.id),A.go()}function y(){V.showNotification(`Acabou o tempo do item', 'Acabou o tempo => ${t.item.name} no personagem ${t.item.characterName}`)}return(i,l)=>(o(),c("li",S,[e("div",$,[e("div",j,[e("img",{src:a.item.image},null,8,z)]),e("div",null,[e("span",F,r(a.item.name),1),e("div",null,[x.value>0?(o(),B(I(T),{key:0,time:x.value,onEnd:y},{default:C(({days:d,hours:u,minutes:h,seconds:f})=>[e("span",L,"Expira em "+r(d)+" dias "+r(u)+" horas, "+r(h)+" minutos, "+r(f)+" segundos.",1)]),_:1},8,["time"])):p("",!0)]),a.item.characterName?(o(),c("div",M,"Personagem: "+r(a.item.characterName),1)):p("",!0)])]),_.value?(o(),c("div",q,[e("p",{class:"flex items-center"},[E(" O Item expirou: "),e("p",{class:"ml-2 text-red-500 cursor-pointer",onClick:g},"Remover item")])])):(o(),c("div",O,[e("div",R,[e("div",{class:v([b.value,"h-full"]),style:P({width:s(a.item)})},null,6)]),e("span",{class:v([w.value,"text-green-500 ml-4 font-medium"])},r(s(a.item)),3),e("p",{class:"ml-2 text-red-500 cursor-pointer",onClick:g},"Remover item")]))]))}};export{J as _};
